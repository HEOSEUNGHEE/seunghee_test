# 1. 베이스 이미지 설정
# 경량 웹 서버인 Nginx의 안정적인 버전을 사용합니다.
FROM nginx:stable-alpine

# 2. 작업 디렉토리 설정
# 컨테이너 내에서 이후의 명령어들이 실행될 기본 경로를 설정합니다.
WORKDIR /usr/share/nginx/html

# 3. 불필요한 기본 설정 파일 삭제
# Nginx의 기본 환영 페이지를 삭제하여 우리 파일로 대체할 준비를 합니다.
RUN rm -f ./*

# 4. 프로젝트 파일 복사
# 로컬 컴퓨터의 현재 폴더에 있는 모든 파일(.)을
# 컨테이너의 작업 디렉토리(/usr/share/nginx/html)로 복사합니다.
COPY . .

# 5. 포트 노출
# 컨테이너의 80번 포트를 외부에 노출시켜 웹 서버에 접근할 수 있도록 합니다.
EXPOSE 80

# 6. 컨테이너 실행 명령어
# 컨테이너가 시작될 때 Nginx 서버를 실행하고, 데몬 모드가 아닌 포그라운드에서 실행되도록 설정합니다.
CMD ["nginx", "-g", "daemon off;"]
